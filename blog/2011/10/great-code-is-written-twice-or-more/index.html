<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Great code is written twice (or more)</title>
  <meta name="description" content="The last couple of years more and more people have been moving towards Agile development. These techniques aren’t new, most we’re devised in the 80s or 90s. ...">
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
  
  <link rel="apple-touch-icon" href="/images/avatar.jpg" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://royvanrijn.com/blog/2011/10/great-code-is-written-twice-or-more/">
  <link rel="alternate" type="application/rss+xml" title="royvanrijn" href="http://royvanrijn.com/feed/" />
  
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

	<a class="site-title" href="/">
	  <img src="/images/header_royvanrijn.jpg" alt="royvanrijn" />
    </a>

    <nav class="site-nav">

      <div class="trigger">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    
    <div class="page-navigation"> 
      <div class="left"> 
         
          <a href="/blog/2011/10/programming-contest-orchard-planting/" title="Previous Post: Programming Contest: Orchard Planting">&laquo; Programming Contest: Orchard Planting</a> 
         
      </div> 
      <div class="right"> 
         
          <a href="/blog/2011/10/code-quality-confirmation/" title="next Post: Code quality: Confirmation">Code quality: Confirmation &raquo; </a> 
         
      </div> 
      <div class="clear"></div> 
    </div> 
  </header>

  <article class="post-content">

    <div class="post">
      <div class="post-thumbnail">
        
          <img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
        
      </div>
      <p class="post-meta">
        Written by Roy van Rijn on 
        <span class="date">
          Oct 21, 2011 20:46:13
        </span>
        : <a class="post-comments" href="http://royvanrijn.com/blog/2011/10/great-code-is-written-twice-or-more/#disqus_thread">0 comments</a>
      </p>
      <h1 class="post-title">Great code is written twice (or more)</h1>
    </div>

    <p><img src="/images/code.jpg" alt="code" class="alignright" /><br />
The last couple of years more and more people have been moving towards Agile development. These techniques aren’t new, most we’re devised in the <a href="http://en.wikipedia.org/wiki/Scrum_%28development%29">80s</a> or <a href="http://en.wikipedia.org/wiki/Extreme_Programming">90s</a>. But finally these days programmers and (more importantly) business consultants, architects and clients have learned to love and embrace Agile development.</p>

<h1 id="evolving-requirements">Evolving requirements</h1>

<p>It has now become common knowledge that you can’t write down all the requirements before you start the project. These requirements have to be written down in an evolutionary matter. In short cycles/sprints we build pieces of the program and also iteratively extract the latest requirements from our clients. This is all based on the principle of evolution. Like everything in life, you get the best with incremental steps towards improvement.</p>

<h1 id="evolving-code">Evolving code!</h1>

<p>But why stop there? Today most programmers have developed a mindset in which requirements <em>have</em> to be extracted evolutionary. But they seem to forget their own work!? They still think their frameworks and their architecture has to be solid at the start of their project. Also, once code is written, it is done.. right?</p>

<p><strong>Wrong</strong>. In my experience all great code is written at least twice. The first time you are too busy interpreting the requirements and figuring out what it should do. Sure, when you see certain patterns, we know that we need to extract methods and shift responsibilities around. The code you’ll end up can be pretty good, but it isn’t great.</p>

<p>In our current project, almost all important features have been rewritten from scratch multiple times. And slowly but surely the code is becoming better and better. Once you’ve made the 3rd or 4th addition to a certain piece of code, or you’ve fixed another bug, you’ll know where the code smells. You’ll feel like avoiding that piece of code, and you are glad when you are done fiddling with it. What do I do when I get this feeling? I delete the code.</p>

<p><em>But… but… then you have to start all over again!?</em></p>

<p><strong>Wrong again!</strong> Sure, there is nothing left in the IDE, the code is gone, maybe some tests survived. You do have a solid understanding what the code should do. You also know what the code looked like before, so you know where it hurt/smelled in the past! With this knowledge you’ll write much better, maybe even great code! Sure, we could have kept the code and played with it some more, refactoring methods and responsibility… but there is nothing like grabbing the opportunity to start over again, and do it better.</p>

<p>Again, like all things in life: To make something great, it has to go through multiple evolutionary iterations. This is true for your requirements, your architecture and also your code.</p>

<h1 id="doing-it-twice-twice-as-slow">Doing it twice, twice as slow?</h1>

<p>When I tell people that in my opinion all code needs to be written at least twice, they are afraid the project will take double the time. But this is far from true. Here is why:</p>

<ol>
  <li>The second time you write the code, it’ll only take a fraction of the time it took initially.</li>
  <li>After rewriting the quality of the code is significantly higher, improving maintainability, extendability and also programming velocity.</li>
</ol>

<p>Good luck, keep rewriting and evolve your code! And if you think rewriting doesn’t work… <a href="/blog/2011/10/code-quality-confirmation/">we have proof!</a></p>


    
  </article>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'royvanrijn';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-wrapper">
      
      <div class="footer-wrapper-content">
      
        <a href="https://www.linkedin.com/profile/view?id=10356027">
          <i class="svg-icon linkedin"></i>
        </a>
      
        <a href="http://stackoverflow.com/users/442274/roy-van-rijn">
          <i class="svg-icon stackoverflow"></i>
        </a>

        <a href="https://github.com/royvanrijn">
          <i class="svg-icon github"></i>
        </a>

        <a href="https://twitter.com/royvanrijn">
          <i class="svg-icon twitter"></i>
        </a>
          
        <a href="/feed/index.xml">
          <i class="svg-icon rss"></i>
        </a>
	  </div>
    
    </div>

  </div>
  
<script>
  <!-- royvanrijn.com: ga('create', 'UA-3219266-2', 'auto'); -->
  <!-- Google Analytics -->
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71281506-1', 'auto');
  ga('send', 'pageview');

  <!-- Disqus Comment Count -->
  var disqus_shortname = 'royvanrijn';
  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());

  </script>

</footer>


  </body>

</html>
