<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>royvanrijn  | Java, algorithms, math, science and more!</title>
  <meta name="description" content="Java, algorithms, math, science and more!">
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
  
  <link rel="apple-touch-icon" href="/images/avatar.jpg" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://royvanrijn.com/page/5/">
  <link rel="alternate" type="application/rss+xml" title="royvanrijn" href="http://royvanrijn.com/feed/" />
  
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

	<a class="site-title" href="/">
	  <img src="/images/header_royvanrijn.jpg" alt="royvanrijn" />
    </a>

    <nav class="site-nav">

      <div class="trigger">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

  <!-- This loops through the paginated posts -->
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2012/03/arthur-fry-day-or-fryday/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2012/03/arthur-fry-day-or-fryday/">Arthur Fry Day (or: Fryday)</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Mar 13, 2012 10:03:16
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/arthur-fry-day-or-fryday/#disqus_thread">0 comments</a>
    	</p>
        <h1 id="scrumboard">Scrumboard</h1>

<p><a href="http://www.royvanrijn.com/arthur-fry-day/"><img src="/images/arthurfry_photo.jpg" alt="Inventor of the Post-It note, and part time hero." /></a><br />
Source: wikipedia.org</p>

<p>Our project is doing <a href="http://en.wikipedia.org/wiki/Scrum_%28development%29">Scrum</a>, and one of the main aspects of Scrum is having everything clearly visible. A great example is the scrumboard, a huge whiteboard filled with Post-It notes.</p>

<p>Post-It notes are perfect for this; small enough to be easy to handle; sticky enough so you can post them almost everywhere. I truly believe that without the Post-It note, Scrum wouldn’t be possible and probably wouldn’t even exist!</p>

<h1 id="the-hero">The hero</h1>

<p>This all makes the real hero of the Agile movement: <a href="http://www.royvanrijn.com/arthur-fry-day/">Arthur Fry</a>. After somebody at 3M messed up a batch of glue, Arthur decided to add that glue to a piece of paper, creating the first Post-It notes.</p>

<h1 id="join-us">Join us</h1>

<p>This invention is much more important than the toilet, or wheel, or penicillin…! Celebrate and make the world aware of this unlikely hero, join us and celebrate <a href="http://www.royvanrijn.com/arthur-fry-day/">Arthur Fry Day</a>, this March 16th!</p>

<p><img src="/images/preparations.png" alt="We've already started our preparations, #arthurfryday" /><br />
<a href="http://www.royvanrijn.com/arthur-fry-day/"><img src="/images/arthurfryday-300x119.png" alt="#arthurfryday" /></a></p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2012/03/arthur-fry-day-or-fryday/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2012/03/devoxx-2011-talk-freely-available/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2012/03/devoxx-2011-talk-freely-available/">Devoxx 2011: Talk freely available</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Mar 8, 2012 14:36:23
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/devoxx-2011-talk-freely-available/#disqus_thread">0 comments</a>
    	</p>
        <p>Moments ago this tweet caught my eye:<br />
<code>Devoxx 2011: "What Shazam doesn't want you to know!" by @royvanrijn is now freely available @ http://parleys.com/d/2869</code></p>

<p>That means everybody can now watch my talk without any subscription! If you want to learn how algorithms like Shazam work, be sure to watch this talk. It might be easier to understand than my blog post a year ago.</p>

<p>Without further ado:  </p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2012/03/devoxx-2011-talk-freely-available/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2012/02/levenshtein-distance-challenge-causes/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2012/02/levenshtein-distance-challenge-causes/">Levenshtein Distance Challenge: Causes</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Feb 7, 2012 23:54:54
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2012/02/levenshtein-distance-challenge-causes/#disqus_thread">0 comments</a>
    	</p>
        <p>Today I’ve been playing around with the <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>. The Levenshtein distance is a number which measures the ‘distance’ between two strings. For example, the distance between “test” and “rest” is one.</p>

<h1 id="the-challenge">The challenge</h1>

<p>A Levenshtein distance of one is the key element in a challenge I’ve been reading about. I first encountered it on <a href="http://williamedwardscoder.tumblr.com/post/16756548314/causes-levenshtein-distance-challenge">williamedwardscoder</a>’s blog.</p>

<p>The problem description:  </p>

<p><em>Two words are friends if they have a <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a> of 1. That is, you can add, remove, or substitute exactly one letter in word X to create word Y. A word’s social network consists of all of its friends, plus all of their friends, and all of their friends’ friends, and so on. Write a program to tell us how big the social network for the word “causes” is, using this <a href="https://raw.github.com/causes/puzzles/master/word_friends/word.list">word list</a>. Have fun!</em>  </p>

<h1 id="java-solution-81-sec">Java solution (8.1 sec)</h1>

<p>After some Googling and tweaking I decided to make an implementation based on the <a href="http://en.wikipedia.org/wiki/Trie">Trie</a> structure. How this helps is excellently described by <a href="http://stevehanov.ca/blog/index.php?id=114">Steve Hanov</a>. I’ve also had a peek in another Java based Trie implementation by <a href="https://github.com/ximus/Causes-Challenge">Ximus</a>.</p>

<p>I’ve been able to get the code below run in 8.1 seconds, which is pretty good. But I’ve read that there are Java implementations running in just 4 seconds…!? Maybe based on Levenshtein Automata?</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FriendlyCauses</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="n">FriendlyCauses</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">FriendlyCauses</span><span class="o">();</span>
		<span class="n">s</span><span class="o">.</span><span class="na">find</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="n">TrieNode</span><span class="o">[]</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">find</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="kt">long</span> <span class="n">timeBefore</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
		<span class="n">File</span> <span class="n">wordList</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="s">&quot;word.list&quot;</span><span class="o">);</span>
		<span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileReader</span><span class="o">(</span><span class="n">wordList</span><span class="o">));</span>

		<span class="kt">int</span> <span class="n">wordsAdded</span> <span class="o">=</span> <span class="n">buildTrie</span><span class="o">(</span><span class="n">reader</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Done building the Trie; &quot;</span> <span class="o">+</span> <span class="n">wordsAdded</span> <span class="o">+</span> <span class="s">&quot; words added.&quot;</span><span class="o">);</span>
		<span class="n">findFriends</span><span class="o">(</span><span class="s">&quot;causes&quot;</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Amount of friends found: &quot;</span> <span class="o">+</span> <span class="n">countWords</span><span class="o">(</span><span class="n">root</span><span class="o">));</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Total time: &quot;</span> <span class="o">+</span> <span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">-</span> <span class="n">timeBefore</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;ms&quot;</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * This method builds the complete trie with all the words.</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">buildTrie</span><span class="o">(</span><span class="n">BufferedReader</span> <span class="n">reader</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">wordsAdded</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="na">ready</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">next</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
			<span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">next</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="mi">97</span><span class="o">;</span>
			<span class="n">TrieNode</span> <span class="n">current</span> <span class="o">=</span> <span class="n">root</span><span class="o">[</span><span class="n">start</span><span class="o">];</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">current</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">root</span><span class="o">[</span><span class="n">start</span><span class="o">]</span> <span class="o">=</span> <span class="n">current</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TrieNode</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">next</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="kt">int</span> <span class="n">nextIndex</span> <span class="o">=</span> <span class="n">next</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="mi">97</span><span class="o">;</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">children</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">current</span><span class="o">.</span><span class="na">children</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">]</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">TrieNode</span> <span class="n">deeper</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TrieNode</span><span class="o">();</span>
					<span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">]</span> <span class="o">=</span> <span class="n">deeper</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="n">current</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">];</span>
			<span class="o">}</span>
			<span class="n">current</span><span class="o">.</span><span class="na">word</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
			<span class="n">wordsAdded</span><span class="o">++;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">wordsAdded</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kd">class</span> <span class="nc">TrieNode</span> <span class="o">{</span>
		<span class="c1">// The children:</span>
		<span class="n">TrieNode</span><span class="o">[]</span> <span class="n">children</span><span class="o">;</span>
		<span class="c1">// If this node is the end of a word, store the word here:</span>
		<span class="n">String</span> <span class="n">word</span><span class="o">;</span>
		<span class="c1">// This boolean indicates that the current node is a friend.</span>
		<span class="kt">boolean</span> <span class="n">isFriend</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">// Temporary buffer of friends to investigate further:</span>
	<span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">friendsToFind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">findFriends</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">friendsToFind</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>

		<span class="k">while</span> <span class="o">(</span><span class="n">friendsToFind</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">friend</span> <span class="o">=</span> <span class="n">friendsToFind</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

			<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">friend</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>

			<span class="kt">byte</span><span class="o">[]</span> <span class="n">currentRow</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">currentRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="n">i</span><span class="o">;</span>
			<span class="o">}</span>

			<span class="c1">// Search the Trie for the given friend:</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">searchTrieForWord</span><span class="o">(</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">97</span><span class="o">,</span> <span class="n">friend</span><span class="o">,</span> <span class="n">currentRow</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * Walk the complete Trie again finding all the friends</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="nf">countWords</span><span class="o">(</span><span class="n">TrieNode</span><span class="o">[]</span> <span class="n">ts</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">amount</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">TrieNode</span> <span class="n">t</span> <span class="o">=</span> <span class="n">ts</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">isFriend</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">amount</span><span class="o">++;</span>
					<span class="c1">// Print/add t.word</span>
				<span class="o">}</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">children</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">amount</span> <span class="o">+=</span> <span class="n">countWords</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">children</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">amount</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * Recursively walk the Trie calculating the Levenshtein distance to the</span>
<span class="cm">	 * given word. When a friend is found, mark it and add it to a list. The new</span>
<span class="cm">	 * friend needs to be processed further on.</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">searchTrieForWord</span><span class="o">(</span><span class="n">TrieNode</span> <span class="n">node</span><span class="o">,</span> <span class="kt">int</span> <span class="n">letter</span><span class="o">,</span> <span class="n">String</span> <span class="n">word</span><span class="o">,</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">previousRow</span><span class="o">)</span> <span class="o">{</span>

		<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">previousRow</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
		<span class="kt">byte</span><span class="o">[]</span> <span class="n">currentRow</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
		<span class="n">currentRow</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="o">(</span><span class="n">previousRow</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>

		<span class="kt">int</span> <span class="n">minElement</span> <span class="o">=</span> <span class="n">currentRow</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>

		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="kt">int</span> <span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">currentRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
			<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
					<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>

			<span class="k">if</span> <span class="o">(</span><span class="n">word</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">letter</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
						<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
			<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
				<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
						<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">newCurrentRowValue</span> <span class="o">&lt;</span> <span class="n">minElement</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">minElement</span> <span class="o">=</span> <span class="n">newCurrentRowValue</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">currentRow</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="n">newCurrentRowValue</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="c1">// If the Levenshtein distance is 1 and the node at current depth is a</span>
		<span class="c1">// word (and not yet friend):</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">currentRow</span><span class="o">[</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">word</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">node</span><span class="o">.</span><span class="na">isFriend</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">node</span><span class="o">.</span><span class="na">isFriend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
			<span class="n">friendsToFind</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">word</span><span class="o">);</span>
		<span class="o">}</span>

		<span class="k">if</span> <span class="o">(</span><span class="n">minElement</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">TrieNode</span> <span class="n">child</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">child</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">searchTrieForWord</span><span class="o">(</span><span class="n">child</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">97</span><span class="o">,</span> <span class="n">word</span><span class="o">,</span> <span class="n">currentRow</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre></figure>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2012/02/levenshtein-distance-challenge-causes/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/orchard-planting-greatest-common-divisor/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/orchard-planting-greatest-common-divisor/">Orchard Planting: Greatest Common Divisor</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 30, 2011 13:21:59
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/orchard-planting-greatest-common-divisor/#disqus_thread">0 comments</a>
    	</p>
        <p>The <a href="http://infinitesearchspace.dyndns.org/orchardplanting">Orchard Planting</a> contest from infinite search space is over. So it is time for a quick write-up.</p>

<p>The rules are simple, on a grid of integers, place N points on the grid to get as much 4 points on a line and never more then 4 points on a line.</p>

<p>My big break-through was when I figured out a way to improve the calculation speed of a solution, and make it possible to extend existing solutions (going back and forwards). To do this I used a unique vector (greatest common divisor vector) which is the same for all point on the same line:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//Calculate unique vector(hash):</span>
<span class="n">doubleIntVector</span><span class="o">(</span><span class="kt">int</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y2</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">stepx</span> <span class="o">=</span> <span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">stepy</span> <span class="o">=</span> <span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">abs</span><span class="o">(</span><span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="o">),</span> <span class="n">abs</span><span class="o">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="o">));</span>
    <span class="k">if</span><span class="o">(</span><span class="n">gcd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">stepx</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
        <span class="n">stepy</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">if</span><span class="o">(</span><span class="n">stepx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="mi">10000</span> <span class="o">*</span> <span class="o">-</span><span class="n">stepx</span><span class="o">)</span> <span class="o">+</span> <span class="o">-</span><span class="n">stepy</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">stepx</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">stepy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">){</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">stepy</span><span class="o">;</span> <span class="c1">//this looks curious... but fixed a bug</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="mi">10000</span> <span class="o">*</span> <span class="n">stepx</span><span class="o">)</span> <span class="o">+</span> <span class="n">stepy</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Now we can evaluate the points:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">for</span> <span class="n">point</span> <span class="n">A</span> <span class="n">in</span> <span class="n">points</span> <span class="mi">0</span><span class="o">....</span><span class="na">N</span> <span class="o">{</span>
    <span class="n">create</span> <span class="n">list</span> <span class="n">vectorsA</span> 
    <span class="k">for</span> <span class="n">point</span> <span class="n">B</span> <span class="n">in</span> <span class="n">points</span> <span class="n">A</span><span class="o">+</span><span class="mi">1</span><span class="o">....</span><span class="na">N</span> <span class="o">{</span>
         <span class="n">vectorA</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="n">doubleIntVector</span><span class="o">(</span><span class="n">A</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">A</span><span class="o">.</span><span class="na">y</span><span class="o">,</span> <span class="n">B</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">B</span><span class="o">.</span><span class="na">y</span><span class="o">)</span> <span class="o">)</span>
    <span class="o">}</span>
    <span class="n">sort</span><span class="o">(</span><span class="n">vectorsA</span><span class="o">)</span>
    <span class="c1">//if vectorsA has three similair vectors you have 4 points on a line! </span>
    <span class="c1">//(3&gt; = invalid and 2 = candidate for extending!)</span>
<span class="o">}</span></code></pre></figure>

<p>If a point has three vectors that are the same, we have a line with four points! This can be checked easily if you sort the vectors and go through them once.</p>

<p>Also adding and removing points becomes very easy. A lot of the GCD calculations can be cached. To remove a point, just remove the vectors it made. And to add a point, calculate all the new vectors. So in the end it basically all boils down to a lot of GCD calculations and sorting.</p>

<p>Was this the fastest way to calculate solutions in this contest? I don’t know, but I was really pleased when I figured it out. With a better algorithm for picking possible numbers (instead of hill-climbing) and some more processor power I bet I could have ended a bit higher up the hill.</p>

<p>Also: Keep an eye out for the next contest, it is going to be an interesting one! January the 13th.</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/orchard-planting-greatest-common-divisor/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/parleys-devoxx-talk-published/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/parleys-devoxx-talk-published/">Parleys: Devoxx talk published</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 20, 2011 20:50:50
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/parleys-devoxx-talk-published/#disqus_thread">0 comments</a>
    	</p>
        <p>The guys at Devoxx/Parleys have already processed all the talks and post-processed them. So my talk it now available at Parleys.com.<br />
There is one drawback though, the talk is currently for subscribers only. If you don’t have one you can only watch the first two (very nervous) minutes.</p>

<p>If you’ve attended Devoxx you will get a free subscription in the email.</p>

<p>(p.s. The intro movie for all the Devoxx ‘11 talks is made by me as well!)</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/parleys-devoxx-talk-published/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/">Neil DeGrasse Tyson and Stephen Colbert</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 14, 2011 13:02:03
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/#disqus_thread">0 comments</a>
    	</p>
        <p>Most internet videos are a waste of time, but this one isn’t! This is an interview of Stephen Colbert (out of his normal character) with Neil DeGrasse Tyson (Hayden Planetarium director, TV science host).</p>

<iframe id="ytplayer" type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" src="http://www.youtube.com/embed/YXh9RQCvxmg"></iframe>

	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/the-project-manager-and-his-pregnant-wife/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/the-project-manager-and-his-pregnant-wife/">The project manager and his pregnant wife</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 9, 2011 00:21:15
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/the-project-manager-and-his-pregnant-wife/#disqus_thread">0 comments</a>
    	</p>
        <h1 id="adding-resources">Adding resources</h1>

<p>Today I’ve (again) seen this quote on Twitter:</p>

<p><strong><em>“A project manager is someone who thinks that 9 pregnant women can create a baby in 1 month”</em></strong></p>

<p>This obviously isn’t the case. The story demonstrates that adding more people to a team won’t (necessarily) make the team more effective. Because some processes can’t be cut into smaller pieces and taken up by more people. It will even cause a bit of overhead, more opinions and thus, more time.</p>

<p><img src="/images/baby.jpg" alt="Our feature baby (for real)" /></p>

<h1 id="what-about-one-woman">What about one woman?</h1>

<p>Everybody knows 9 women can’t create a baby in 1 month… so it isn’t fair to make that comparison. How about one pregnant woman and the project manager?</p>

<p>Four weeks into the ‘project’ the project manager has his monthly meeting with his pregnant wife:</p>

<p><strong>Month #1</strong><br />
Project manager: <em>“How is everything going?”</em><br />
Wife: <em>“Oh, just fine, no problems at all”</em><br />
Project manager: <em>“Is there anything I can help you with?”</em><br />
Wife: <em>“No, currently not, everything is going like it is supposed to”</em><br />
Project manager: <em>“When do you think this baby-project is going to be completed?”</em><br />
Wife: <em>“Well, it takes 9 months, so 8 months from now!”</em></p>

<p><strong>Month #2</strong><br />
Project manager: <em>“Hey, is everything still going fine?”</em><br />
Wife: <em>“Yes, still feeling fine.”</em><br />
Project manager: <em>“Is there anything I can help you with?”</em><br />
Wife: <em>“No, nothing that I can think of right now.”</em></p>

<p><strong>Month #3</strong><br />
Project manager: <em>“Hey, still working on that baby?”</em><br />
Wife: <em>“Yes, I’m starting to have a bit of morning sickness now…”</em><br />
Project manager: <em>“Oh, can I help you with that?”</em><br />
Wife: <em>“Not really, it is just something I have to live with”</em><br />
Project manager: <em>“How does this affect the release date?”</em><br />
Wife: <em>“It doesn’t, I think… but I really wish we could release a bit sooner!”</em></p>

<p><strong>Month #4</strong><br />
Project manager: <em>“Hey, still having that morning sickness issue?”</em><br />
Wife: <em>“A little bit, but it is almost gone now”</em><br />
Project manager: <em>“Still on track for the release date?”</em><br />
Wife: <em>“Yes, 5 months from now!”</em></p>

<p><strong>Month #5</strong><br />
Project manager: <em>“How is it going? Morning sickness issue resolved?”</em><br />
Wife: <em>“Yes, but I need icecream and pickles.”</em><br />
Project manager: <em>“I’m on it. Any updates about the release date?”</em><br />
Wife: <em>“ICECREAM!”</em></p>

<p><strong>Month #6</strong><br />
Project manager: <em>“Anything I can do for you right now?”</em><br />
Wife: <em>“Yes, I think you can start building that baby room”</em><br />
Project manager: <em>“When do you need it, when is the baby ready?”</em><br />
Wife: <em>“Three months from now.”</em></p>

<p><strong>Month #7</strong><br />
Project manager: <em>“The baby room is almost ready, how is that baby going?”</em><br />
Wife: <em>“Just fine, just very tired. Two more months.”</em></p>

<p><strong>Month #8</strong><br />
Project manager: <em>“I’ve got some more pickles for you!”</em><br />
Wife: <em>“You know I hate pickles :-( I’m tired…”</em><br />
Project manager: <em>“Sorry, how is the release coming along?”</em><br />
Wife: <em>“One more month.”</em></p>

<p><strong>Month #9</strong><br />
Project manager: <em>“Is the baby there yet?”</em><br />
Wife: <em>“No, not yet, I’m tired but fine”</em><br />
Project manager: <em>“But…? What about the release?”</em><br />
Wife: <em>“Go away.”</em></p>

<p><strong>Month #9 (plus one week)</strong><br />
Project manager: <em>“What is the delay? Where is my baby?”</em><br />
Wife: <em>“It isn’t here yet.”</em><br />
Project manager: <em>“How come? How did this happen!? I kept asking about the release date and you kept saying it would be done a week ago!?”</em><br />
Wife: <em>“Get out.”</em></p>

<p><strong>Month #9 (plus two weeks)</strong><br />
Wife: <em>“I’m ready! I’ve got this lovely baby for you.”</em><br />
Project manager: <em>“Great, where did it go wrong with that planning?”</em><br />
Project manager: <em>“That babyroom has been ready for weeks now, and no baby!”</em><br />
Project manager: <em>“How can we keep this from happening next time? Scrum? Lean? Agile? RUP?”</em><br />
Wife: <em>“Screw you.”</em></p>

<p>This story also has an important message in it, I’ll just leave that as an exercise for the reader.</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/the-project-manager-and-his-pregnant-wife/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/bytebeat-algorithmic-symphonies/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/bytebeat-algorithmic-symphonies/">Bytebeat: Algorithmic Symphonies</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 7, 2011 16:42:08
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/bytebeat-algorithmic-symphonies/#disqus_thread">0 comments</a>
    	</p>
        <p>A couple of days ago I first encountered <em>“bytebeat”</em>. This is a new hype revolving algorithmic music and sounds. The basic idea is this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">main</span><span class="o">(</span><span class="n">t</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">for</span><span class="o">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="o">;;</span><span class="n">t</span><span class="o">++)</span>
    <span class="n">putchar</span><span class="o">(</span> <span class="n">t</span> <span class="o">*</span> <span class="o">(((</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">12</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">8</span><span class="o">)</span> <span class="o">)</span> <span class="o">&amp;</span> <span class="o">(</span> <span class="mi">63</span> <span class="o">&amp;</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">4</span><span class="o">))));</span>
<span class="o">}</span></code></pre></figure>

<p>This simple loop has one variable, t (time). And every iteration we use t to calculate some output. Next, we take the output and pipe it into 8-bit 8-kHz PCM channel (for example /dev/audio!).</p>

<p>A couple of examples in a YouTube video:<br />
&lt;iframe id="ytplayer" type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="http://www.youtube.com/embed/tCRPUv8V22o"&gt;&lt;/iframe&gt;</p>

<p>In Java you could do the following:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">javax.sound.sampled.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AudioPump</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

		<span class="n">AudioFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AudioFormat</span><span class="o">(</span><span class="mi">8000</span><span class="n">f</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
		<span class="n">DataLine</span><span class="o">.</span><span class="na">Info</span> <span class="n">info</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataLine</span><span class="o">.</span><span class="na">Info</span><span class="o">(</span><span class="n">SourceDataLine</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">format</span><span class="o">);</span>
		<span class="n">SourceDataLine</span> <span class="n">soundLine</span> <span class="o">=</span> <span class="o">(</span><span class="n">SourceDataLine</span><span class="o">)</span><span class="n">AudioSystem</span><span class="o">.</span><span class="na">getLine</span><span class="o">(</span><span class="n">info</span><span class="o">);</span>
		<span class="n">soundLine</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">format</span><span class="o">,</span> <span class="mi">32000</span><span class="o">);</span>
		<span class="n">soundLine</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

		<span class="kt">byte</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">8</span><span class="o">];</span>
		<span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">buffer</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">n</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">buffer</span><span class="o">[</span><span class="n">n</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="n">f</span><span class="o">(</span><span class="n">t</span><span class="o">++);</span>
			<span class="o">}</span>
			<span class="n">soundLine</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">buffer</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">f</span><span class="o">(</span><span class="kt">int</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">7</span><span class="o">|</span><span class="n">t</span><span class="o">|</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="o">)*</span><span class="mi">10</span><span class="o">+</span><span class="mi">4</span><span class="o">*(</span><span class="n">t</span><span class="o">&amp;</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">13</span><span class="o">|</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="c1">//return (t*(t&gt;&gt;5|t&gt;&gt;8))&gt;&gt;(t&gt;&gt;16);</span>
	<span class="c1">//return t*(((t&gt;&gt;12)|(t&gt;&gt;8))&amp;(63&amp;(t&gt;&gt;4)));</span>
<span class="o">}</span></code></pre></figure>

<p>These simple one-liners are able to produce amazing sounds and music!</p>

<p>It becomes even easier to play around with bytebeat if you use one of the many Javascript implementations.<br />
Here is one (including the best song I’ve created): <a href="http://t.co/9oognysS">http://t.co/9oognysS</a></p>

<p>The computer/synthetic sounds are also good for <a href="http://wurstcaptures.untergrund.net/music/?oneliner=t%7C%28%28t%2F80%29%7C%28t%2F40%29%29%26%28t%2F5%29%7C%28t%2F160%29%7C%28t%2F240%29%2F8%3C%3C%28sin%28t%2F3.43%29*2%29&amp;rate=11025">dubstep</a>.</p>

<p>For more information on this subject:<br />
- <a href="http://canonical.org/~kragen/bytebeat/">http://canonical.org/~kragen/bytebeat/</a><br />
- <a href="http://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html">http://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html</a></p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/bytebeat-algorithmic-symphonies/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/12/math-doodling-vi-hart/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/12/math-doodling-vi-hart/">Math doodling: Vi Hart</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Dec 3, 2011 19:06:40
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/math-doodling-vi-hart/#disqus_thread">0 comments</a>
    	</p>
        <p>As you might know I’m a big fan of math contests and basically just math in general. But only as long as it doesn’t involve long/hard equations! Math is all around us, we just don’t see it because we’ve been taught that math equals equations.</p>

<p>There is one person that keeps amazing me with her math related blog: <a href="http://vihart.com/doodling/">Vi</a></p>

<p><a href="http://vihart.com/doodling/"><img src="/images/vihart.png" alt="vihart" /></a></p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/12/math-doodling-vi-hart/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/11/simple-made-easy/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/11/simple-made-easy/">Simple Made Easy</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Nov 24, 2011 22:22:55
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/11/simple-made-easy/#disqus_thread">0 comments</a>
    	</p>
        <p>When browsing <a href="http://williamedwardscoder.tumblr.com/">this</a> blog I came across a very good talk about programming and simplicity. What is simplicity? Things that are easy right? Wrong.</p>

<p><a href="http://www.infoq.com/presentations/Simple-Made-Easy"><br />
<img src="/images/simpleMadeEasy.jpg" alt="simpleMadeEasy" /><br />
</a></p>

<p>I won’t go into the subject, just watch this talk!!<br />
<a href="http://www.infoq.com/presentations/Simple-Made-Easy">http://www.infoq.com/presentations/Simple-Made-Easy</a></p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/11/simple-made-easy/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/11/speaking-at-devoxx/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/11/speaking-at-devoxx/">Devoxx 2011: Speaking at Devoxx</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Nov 19, 2011 16:01:11
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/11/speaking-at-devoxx/#disqus_thread">0 comments</a>
    	</p>
        <p>I’m back home from Devoxx, I’m still alive (kind of) and it was great!</p>

<p>First of all, I had never been to Devoxx before, so it was all a new experience for me. And second, I was speaking at this conference, which is my first international talk! In this blogpost I’ll try to describe how it is, talking at Devoxx.</p>

<h1 id="before-the-talk-other-sessions">Before the talk, other sessions</h1>

<p>There were a lot of good talks on Devoxx this year, mostly about HTML5, Android and new languages (like Clojure, Scala, Fantom, Ceylon). But to prepare for the talk I decided to stick with the sessions which had the well known international speakers (Joshua Bloch, Mark Reinhold, Brian Goetz, Chet Haase and of course the JavaPosse guys). Instead of learning new technical stuff I focused more on learning presentation skills instead.</p>

<p>The first day I also brought my camera with me, and created the following video (which is currently featured at the Devoxx.com frontpage):</p>

<iframe src="http://player.vimeo.com/video/32170355?title=0&amp;byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<h1 id="friday">Friday</h1>

<p>My own session was planned on Friday, the last day of the conference, in the last slot of the day. Initially I didn’t like this spot (especially since it was the day after the Noxx party!), but when I saw the line of people waiting for popular sessions like Joshua Bloch’s and/or the JavaPosse I was very glad I wasn’t scheduled at the same time as them.</p>

<p>When I arrived at the venue Friday morning I noticed the room I was scheduled in was empty and being torn down… that didn’t look promising! But I quickly found out that ‘room 6’ was now in cinema room 4. And until the last moment the screens on the floor didn’t show my session and the session (from David Geary) before me. So I didn’t have a lot of hope, only my own colleagues would probably be able to find it…</p>

<p>Then suddenly David Geary was done with his talk (<em>HTML5 Game Development: The most fun you can have in a browser</em>), time flew by… time to go to the front of the stage and prepare the laptop. When connecting the laptop I saw a huge line of people, queuing to <strong>leave</strong> the room… sigh. So I went to the sound-guy, getting a microphone strapped to my head, and warned the cameraman that I have the habit of walking around like bored zoo animal. He was playing some World of Warcraft in between the sessions, so I challenged him: you can practice your aim on me instead the coming hour.</p>

<p>Then I looked back up at the audience, and to my pleasant surprise, the room was loaded. I quickly snapped this picture:<br />
<a href="/images/devoxx_audience.jpg"><img src="/images/devoxx_audience.jpg" alt="Devoxx audience" /></a></p>

<p>Wow! And it kept getting more and more crowded, in the end people were sitting on the steps because all the seats were taken. Then the timer was suddenly at 59:50, my talk had begun! The microphone was open and I started talking to the audience. Up to this point I wasn’t very nervous, but now I had to talk to all these people, in a foreign language (English). After the first joke landed, and the people reacted like I hoped, my confidence returned. During the talk I had to explain something with a bright orange stick, and before I knew it I was waving the stick around like a nerd jedi. Suddenly I remembered the poor cameraman, but one quick glance at the screen behind me and I could see he was doing an awesome job tracking my every move.</p>

<p>When the countdown reached 18 minutes, I was pretty much done with the talk, but I was anticipating a lot of questions and I had an anti-patent rant ready. For the next 13 minutes I answered a lot of good questions. Then I decided it was time, I took the liberty (being the last talk) to thanks the audience and tell them Devoxx was now over. Something like: “This is the end of our Devoxx for this year! Have a safe trip home, and hopefully I’ll see you all again next year!”</p>

<p>Afterwards a lot of people congratulated me, and I’ve seen some great tweets about the talk. It felt great and recommend it to everybody: Just do it!</p>

<p>The slides can be found here: <a href="http://www.slideshare.net/royvanrijn/what-shazam-doesnt-want-you-to-know">http://www.slideshare.net/royvanrijn/what-shazam-doesnt-want-you-to-know</a></p>

<p>And the talk will be freely available (with video, slides and screen capture!) on Parleys.com some time in the future (could take a while, months).</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/11/speaking-at-devoxx/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/10/code-quality-confirmation/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/10/code-quality-confirmation/">Code quality: Confirmation</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Oct 24, 2011 15:32:29
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/10/code-quality-confirmation/#disqus_thread">0 comments</a>
    	</p>
        <p>Last week I wrote a blogpost on <a href="/blog/2011/10/great-code-is-written-twice-or-more/">rewriting code</a> and improving quality. And now we have some great news that will support my claims. To verify our project and convince management we are doing it the right way, we’ve send a copy of our code to <a href="http://www.tuvit.de/english/Home.asp">TÜViT</a>.</p>

<h1 id="tvit">TÜViT</h1>

<p>Most people from Europe will know TÜV. They test and certify cars, elevators and even nuclear power plants. They also verify IT security, quality, infrastructure, products, processes and their requirements. TÜViT is accredited by organisations and official bodies for the areas of IT security and IT quality.</p>

<p><a href="/images/hamisteam.jpg"><img src="/images/hamisteam.jpg" alt="The team that made it possible (and some management stealing our thunder)" /></a></p>

<h1 id="hamis">HaMIS</h1>

<p>Their verdict couldn’t have been better, last week we’ve received a banner with 5 out of 5 stars! Just 5% of the projects that are submitted to get tested get 5 stars. More information can be found in the official <a href="http://www.portofrotterdam.com/en/News/pressreleases-news/Pages/stars-port-rotterdam.aspx">press release</a> and in the <a href="http://www.automatiseringgids.nl/technologie/software/2011/42/vijf-sterren-voor-software-havenbedrijf-rotterdam.aspx">Automatiserings Gids</a> (Dutch).</p>

<h1 id="agile-architecture-and-refactoring">Agile architecture and refactoring</h1>

<p>For some reason getting these 5 stars makes me very proud. Normally I don’t care much about certification, they usually focus on the wrong issues. We know we are doing the right stuff, it feels good, and we’re making good progress. And this is just a perfect verification from an external source, this will also assure management we are on the right track.</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/10/code-quality-confirmation/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/10/great-code-is-written-twice-or-more/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/10/great-code-is-written-twice-or-more/">Great code is written twice (or more)</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Oct 21, 2011 20:46:13
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/10/great-code-is-written-twice-or-more/#disqus_thread">0 comments</a>
    	</p>
        <p><img src="/images/code.jpg" alt="code" class="alignright" /><br />
The last couple of years more and more people have been moving towards Agile development. These techniques aren’t new, most we’re devised in the <a href="http://en.wikipedia.org/wiki/Scrum_%28development%29">80s</a> or <a href="http://en.wikipedia.org/wiki/Extreme_Programming">90s</a>. But finally these days programmers and (more importantly) business consultants, architects and clients have learned to love and embrace Agile development.</p>

<h1 id="evolving-requirements">Evolving requirements</h1>

<p>It has now become common knowledge that you can’t write down all the requirements before you start the project. These requirements have to be written down in an evolutionary matter. In short cycles/sprints we build pieces of the program and also iteratively extract the latest requirements from our clients. This is all based on the principle of evolution. Like everything in life, you get the best with incremental steps towards improvement.</p>

<h1 id="evolving-code">Evolving code!</h1>

<p>But why stop there? Today most programmers have developed a mindset in which requirements <em>have</em> to be extracted evolutionary. But they seem to forget their own work!? They still think their frameworks and their architecture has to be solid at the start of their project. Also, once code is written, it is done.. right?</p>

<p><strong>Wrong</strong>. In my experience all great code is written at least twice. The first time you are too busy interpreting the requirements and figuring out what it should do. Sure, when you see certain patterns, we know that we need to extract methods and shift responsibilities around. The code you’ll end up can be pretty good, but it isn’t great.</p>

<p>In our current project, almost all important features have been rewritten from scratch multiple times. And slowly but surely the code is becoming better and better. Once you’ve made the 3rd or 4th addition to a certain piece of code, or you’ve fixed another bug, you’ll know where the code smells. You’ll feel like avoiding that piece of code, and you are glad when you are done fiddling with it. What do I do when I get this feeling? I delete the code.</p>

<p><em>But… but… then you have to start all over again!?</em></p>

<p><strong>Wrong again!</strong> Sure, there is nothing left in the IDE, the code is gone, maybe some tests survived. You do have a solid understanding what the code should do. You also know what the code looked like before, so you know where it hurt/smelled in the past! With this knowledge you’ll write much better, maybe even great code! Sure, we could have kept the code and played with it some more, refactoring methods and responsibility… but there is nothing like grabbing the opportunity to start over again, and do it better.</p>

<p>Again, like all things in life: To make something great, it has to go through multiple evolutionary iterations. This is true for your requirements, your architecture and also your code.</p>

<h1 id="doing-it-twice-twice-as-slow">Doing it twice, twice as slow?</h1>

<p>When I tell people that in my opinion all code needs to be written at least twice, they are afraid the project will take double the time. But this is far from true. Here is why:</p>

<ol>
  <li>The second time you write the code, it’ll only take a fraction of the time it took initially.</li>
  <li>After rewriting the quality of the code is significantly higher, improving maintainability, extendability and also programming velocity.</li>
</ol>

<p>Good luck, keep rewriting and evolve your code! And if you think rewriting doesn’t work… <a href="/blog/2011/10/code-quality-confirmation/">we have proof!</a></p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/10/great-code-is-written-twice-or-more/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/10/programming-contest-orchard-planting/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/10/programming-contest-orchard-planting/">Programming Contest: Orchard Planting</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Oct 17, 2011 13:07:06
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/10/programming-contest-orchard-planting/#disqus_thread">0 comments</a>
    	</p>
        <p>Yes! Another new programming contest: <a href="http://infinitesearchspace.dyndns.org/orchardplanting">Orchard Planting</a></p>

<p>The problem:</p>

<p>On a grid you have to place trees (dots). If there are four trees in a line, you’ll get a point. But: more then 4 trees in a line is illegal. What are the best solutions for N=11 to 60 trees?</p>

<p>Up to now I haven’t found a good method of constructing solutions yet, but I do have a very fast scorer which is a bit faster than O(N^2). There are some ideas brewing, which I obviously won’t disclose here (maybe after the contest).</p>

<p>I’m looking forward to competing with you, good luck all!</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/10/programming-contest-orchard-planting/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  
    <div class="post">
      <div class="post-thumbnail">
      	<a href="/blog/2011/10/contacts-lost-after-update-to-ios5-iphone/">
      	
      		<img class="post-thumbnail-img" src="/thumbnails/default.jpg"/>
    	
    	</a>
      </div>
  
      <div class="post-data">
    	<h1><a href="/blog/2011/10/contacts-lost-after-update-to-ios5-iphone/">Contacts lost after update to IOS5 (iPhone)</a></h1>
    	<p class="post-meta">
			<span class="date">
			  Oct 17, 2011 12:52:55
			</span>
			 - <a class="post-comments" href="http://royvanrijn.com/blog/2011/10/contacts-lost-after-update-to-ios5-iphone/#disqus_thread">0 comments</a>
    	</p>
        <p>Yesterday I decided to (finally) upgrade to IOS 5. This new firmware for the iPhone/iPod Touch and iPad adds a lot of new features, including iCloud, iMessage and more.</p>

<p><img src="/images/icloud.png" alt="icloud" class="aligncenter" /></p>

<p>At first the upgrade seemed to be a huge success, everything worked and I loved the fact that all my apps were being updated runtime, all at once. But then I realized that all my contacts were gone! I could see all the names in the ‘missed calls’ section, but it said “No contacts” when calling/texting. I tried the “Recovery” option, but nothing seemed to help…</p>

<p>Until I tried this:</p>

<ul>
  <li>Go to Settings</li>
  <li>iCloud</li>
  <li>Disable ‘Contacts’ (slide)</li>
  <li><strong>At this moment, all the contacts on my phone appeared again!</strong></li>
  <li>Re-enable ‘Contacts’</li>
  <li>Now iCloud asks if you want to combine the results, yes we do!</li>
</ul>

<p>This restored all my contacts and synchronized them with iCloud. It seems that (for some reason) the initial merge with iCloud failed or something.<br />
If you have this problem too, please let me know if this fix helps.</p>


	    <p>
    		-- &gt; <a href="http://royvanrijn.com/blog/2011/10/contacts-lost-after-update-to-ios5-iphone/#disqus_thread">0 comments</a>
    	</p>
      </div>
    </div>
  
    <hr/>
  

  <!-- Pagination -->
  
  <div class="pagination">
    <div class="pagination-center">
    
      <div class="pagination-item"><a href="/page/4">&laquo; Prev</a></div>
    

    
      
        <div class="pagination-item"><a href="/index.html">1</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/2">2</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/3">3</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/4">4</a></div>
      
    
      
        <div class="pagination-item"><b>5</b></div>
      
    
      
        <div class="pagination-item"><a href="/page/6">6</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/7">7</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/8">8</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/9">9</a></div>
      
    

    
      <div class="pagination-item"><a href="/page/6">Next &raquo;</a></div>
    
    </div>
  </div>
  

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-wrapper">
      
      <div class="footer-wrapper-content">
      
        <a href="https://www.linkedin.com/profile/view?id=10356027">
          <i class="svg-icon linkedin"></i>
        </a>
      
        <a href="http://stackoverflow.com/users/442274/roy-van-rijn">
          <i class="svg-icon stackoverflow"></i>
        </a>

        <a href="https://github.com/royvanrijn">
          <i class="svg-icon github"></i>
        </a>

        <a href="https://twitter.com/royvanrijn">
          <i class="svg-icon twitter"></i>
        </a>
          
        <a href="/feed/index.xml">
          <i class="svg-icon rss"></i>
        </a>
	  </div>
    
    </div>

  </div>
  
  <script>
  
  <!-- Google Analytics -->
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3219266-2', 'auto');
  ga('send', 'pageview');

  <!-- Disqus Comment Count -->
  var disqus_shortname = 'royvanrijn'; // required: replace example with your forum shortname
  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());

  </script>

</footer>


  </body>

</html>
