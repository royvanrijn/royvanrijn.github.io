<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>royvanrijn  | Java, algorithms, math, science and more!</title>
  <meta name="description" content="Java, algorithms, math, science and more!">
  
  <meta name="keywords" content="royvanrijn,programming,java,blog,devoxx,conference,speaker,technology,science,math,azspcs,tips,tricks" />
  
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
  
  <link rel="apple-touch-icon" href="/images/avatar.jpg" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://royvanrijn.com/page/6/">
  <link rel="alternate" type="application/rss+xml" title="royvanrijn" href="http://royvanrijn.com/feed/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@royvanrijn" />
  <meta name="twitter:title" content="royvanrijn" />
  <meta name="twitter:description" content="Java, algorithms, math, science and more!" />
  
  <meta name="twitter:image" content="http://www.royvanrijn.com/thumbnails/default.jpg"/>
  

<script>
  <!-- Google Analytics -->
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3219266-1', 'auto');
  ga('send', 'pageview');

  <!-- Disqus Comment Count -->
  var disqus_shortname = 'royvanrijn';
  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());

  </script>
  
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

	<a class="site-title" href="/">
	  <img src="/images/header_royvanrijn.jpg" alt="royvanrijn" width="990" height="307"/>
    </a>

    <nav class="site-nav">

      <div class="trigger">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

  <hr/>
  <!-- This loops through the paginated posts -->
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/07/introducing-mandelbulb-js/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Introducing: mandelbulb.js" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-07-12T16:58:15+02:00" class="date">
            Jul 12, 2012 16:58:15
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/07/introducing-mandelbulb-js/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/07/introducing-mandelbulb-js/">Introducing: mandelbulb.js</a></h1>

        <span itemprop="articleBody">
          <p>This afternoon Will (the friend I mentioned in <a href="/blog/2012/07/mandelbulb-rendering/">this</a> previous post) showed up again on Google Talk.<br />
He set me a new challenge: “How about translating your 3d engine/mandelbulb code into pure Javascript?”</p>

<p><a href="http://www.royvanrijn.com/img/mandelbulb2.png"><img src="/images/mandelbulb2.png" alt="First Mandelbulb render, full of programming bugs" /></a></p>

<p>This seemed impossible, but I quickly realized the code I had was very easy to convert. It is my first piece of Javascript larger than 10 lines I think, but it is working!</p>

<p>If you have a bit of time:<br />
»&gt; <strong><a href="http://www.royvanrijn.com/img/mandelbulb.html">mandelbulb.js</a></strong></p>

<p>Any Javascript developers who would like to take the code and improve on it (trust me, there is more then enough room for improvement) go ahead! I’m releasing it under creative commons, do with it what you like, just be sure to mention me!</p>

<p>The code can be found here: <a href="https://github.com/royvanrijn/mandelbulb.js">https://github.com/royvanrijn/mandelbulb.js</a></p>

<p>I’ve already included <a href="https://gist.github.com/3098912">one improvement</a> by Will himself, scanlines to smooth up the rendering (good for inpatient people!).</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/07/introducing-mandelbulb-js/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/07/mandelbulb-rendering/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Mandelbulb rendering" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-07-12T16:16:08+02:00" class="date">
            Jul 12, 2012 16:16:08
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/07/mandelbulb-rendering/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/07/mandelbulb-rendering/">Mandelbulb rendering</a></h1>

        <span itemprop="articleBody">
          <p>Last friday a friend of mine was talking about <a href="http://blog.hvidtfeldts.net/index.php/2011/06/distance-estimated-3d-fractals-part-i/">ray marching</a>, the Mandelbulb and programming his own 3D fractal engine. He also kind of challenged me to do the same… So I picked up the challenge and set to work on my own 3D (CPU only) ray marching fractal engine (in Java). It was a very steep learning curve for a programmer with limited math knowledge, but I’m pretty pleased with the first results!</p>

<h1 id="my-first-3d-engine-tm">My first 3d engine (tm)</h1>

<p>On sunday I had the first things ready, lighting (Blinn-Phong), soft shadows, but still I had no perspective build on (all rays travelled in the same direction) and I had no way to change the view point/camera position:</p>

<p><img src="/images/raymarching.png" alt="Simple ray marching example, wrong perspective, two balls and a cube" /></p>

<p>Next step was to render something other than spheres and cubes, and get the camera position under control, that breakthrough came monday evening:</p>

<p><a href="http://www.royvanrijn.com/img/mandelbulb1.png"><img src="/images/mandelbulb1.png" alt="First Mandelbulb render, full of programming bugs" /></a></p>

<p>My first mandelbulb! The perspective is still flat and it misses detail, we’ve also rendered through the camera/near field.<br />
So I made some more improvements and managed to render a nice wallpaper for myself:</p>

<p><a href="http://www.royvanrijn.com/img/mandelbulb2.png"><img src="/images/mandelbulb2.png" alt="First Mandelbulb render, full of programming bugs" /></a></p>

<p>Yesterday I’ve been playing around with optimizing the code a little bit (less memory usage, already twice as fast as it was, but still slow). And I’ve added some glow and the ability to add ‘distance fog’. Also I’ve recorded my first movie, just to show some moving fractals:</p>

<iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" src="http://www.youtube.com/embed/r-sGABWMH2o"></iframe>
<p>(yes, it has a glitch with the pink mandelbulb, can’t be bothered to fix…)</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/07/mandelbulb-rendering/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/06/rotoscoping-in-prince-of-persia/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Rotoscoping in Prince of Persia" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-06-28T16:02:30+02:00" class="date">
            Jun 28, 2012 16:02:30
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/06/rotoscoping-in-prince-of-persia/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/06/rotoscoping-in-prince-of-persia/">Rotoscoping in Prince of Persia</a></h1>

        <span itemprop="articleBody">
          <p>This afternoon I was reading about <a href="http://en.wikipedia.org/wiki/Rotoscoping">rotoscoping</a>. Rotoscoping is a technique where an artist takes a filmed movie and animates a drawn (cartoon) character frame by frame. The end result is highly realistic. The technique was first used in 1915’s with an ink cartoon called <a href="http://en.wikipedia.org/wiki/Out_of_the_Inkwell">Out of the Inkwell</a> and has been used in many cartoons since.</p>

<p>But what about video games?</p>

<p>It turns out that Prince of Persia was the first computer game to use rotoscoping. That game brings back a lot of good memories to me, and probably everybody my age.</p>

<p>After a quick search I found this little gem of a video:<br />
&lt;iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="http://www.youtube.com/embed/WAjRNU3DbSY"&gt;&lt;/iframe&gt;</p>

<p>The person in the video is David Mechner. He is the younger brother of Jordan Mechner, the creator of Prince of Persia.<br />
Jordan used the clips shown above to rotoscope the movements of the main character in the game.</p>

<p>I had never realised <em>why</em> I loved Prince of Persia so much in my youth. But now I think it is probably because of rotoscopy! The animations are so realistic and life like, it has brought a whole new level of realism into video games.</p>

<p>Here is another video of Jordan, showing even more rotoscoping in Prince of Persia:<br />
&lt;iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="http://www.youtube.com/embed/gC3WEwSJoHs"&gt;&lt;/iframe&gt;</p>

<p>And the icing on the cake, a video about rotoscoping in Mortal Kombat 1:<br />
&lt;iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="http://www.youtube.com/embed/CUBAKk64FS8"&gt;&lt;/iframe&gt;</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/06/rotoscoping-in-prince-of-persia/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/06/getting-started-arduino-mega/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Getting started: Arduino Mega" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-06-07T13:00:50+02:00" class="date">
            Jun 7, 2012 13:00:50
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/06/getting-started-arduino-mega/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/06/getting-started-arduino-mega/">Getting started: Arduino Mega</a></h1>

        <span itemprop="articleBody">
          <p>A couple of days ago I’ve received my Arduino Mega in the mail. Together with a breadboard, some plug-wires and Arduino-starters kit (with some resistors, capacitors, and a couple of sensors).</p>

<p><img src="/images/arduino_mega-300x225.jpg" alt="arduino_mega" class="alignright" /></p>

<h1 id="arduino">Arduino?</h1>

<p>The Arduino is a handy little board with micro controller. It allows you to connect your computer using USB to the micro controller and easily program and upload the program to the board. I’m a very experienced programmer with almost no experience in electronics.</p>

<p>I know what a resistor is and what it does, but I have no idea how/when to use which resistor. But I’d love to learn more, maybe even build some toy robots in the end. A final goal would be to have a working humanoid with 20+ servo’s, but that goal might be a bit out of reach…</p>

<h1 id="the-examples">The examples</h1>

<p>The first thing I’ve done after unboxing the Arduino was plugging it in my laptop and browsing to the <a href="http://www.arduino.cc">arduino.cc</a> website. There you can download the Arduino IDE.</p>

<p>In the ‘Learning’ section (<a href="http://arduino.cc/en/Tutorial/HomePage">http://arduino.cc/en/Tutorial/HomePage</a>) you’ll find everything you need to get started. There are diagrams on how to wire everything into the breadboard, and there are also code examples.</p>

<p>Some stuff I made using the ‘Learning’ page:</p>

<ul>
  <li>Blinking LED (the hardware Hello World, yay!)</li>
  <li>Slowly fading blinking LED</li>
  <li>Knight rider, KITT LED bar</li>
  <li>Tiny keyboard with 5 buttons</li>
  <li>Light reactive theremin</li>
</ul>

<p>And some projects that aren’t on the example page, but could be made using the things I’ve learned:</p>

<ul>
  <li>Extended keyboard with 5 buttons and LEDs!</li>
  <li>Light reactive LED bar (showing the amount of light in LEDs)</li>
  <li>Knock-sensor, LED shows when it ‘feels/hears’ a knock</li>
</ul>

<p>All the above was made in a single evening! And there is much much more that you could make with the Arduino. I haven’t even started using servos and/or DC motors. The only problem left is lack of imagination!</p>

<p>For a programmer the code is very easy to understand, and the <a href="http://arduino.cc/en/Reference/HomePage">Arduino Programming Language</a> used is closely related to the C/Java family.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/*</span>
<span class="cm">  keyboard</span>
<span class="cm"> </span>
<span class="cm"> Plays a pitch that changes based on a changing analog input</span>
<span class="cm"> </span>
<span class="cm"> circuit:</span>
<span class="cm"> * 3 force-sensing resistors from +5V to analog in 0 through 5</span>
<span class="cm"> * 3 10K resistors from analog in 0 through 5 to ground</span>
<span class="cm"> * 8-ohm speaker on digital pin 8</span>
<span class="cm"> </span>
<span class="cm"> created 21 Jan 2010</span>
<span class="cm"> modified 9 Apr 2012</span>
<span class="cm"> by Tom Igoe </span>

<span class="cm">This example code is in the public domain.</span>
<span class="cm"> </span>
<span class="cm"> http://arduino.cc/en/Tutorial/Tone3</span>
<span class="cm"> </span>
<span class="cm"> */</span>

<span class="err">#</span><span class="n">include</span> <span class="s">&quot;pitches.h&quot;</span>

<span class="kd">const</span> <span class="kt">int</span> <span class="n">threshold</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>    <span class="c1">// minimum reading of the sensors that generates a note</span>

<span class="c1">// notes to play, corresponding to the 3 sensors:</span>
<span class="kt">int</span> <span class="n">notes</span><span class="o">[]</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">NOTE_A4</span><span class="o">,</span> <span class="n">NOTE_B4</span><span class="o">,</span><span class="n">NOTE_C3</span> <span class="o">};</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>

<span class="o">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">thisSensor</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">thisSensor</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="n">thisSensor</span><span class="o">++)</span> <span class="o">{</span>
    <span class="c1">// get a sensor reading:</span>
    <span class="kt">int</span> <span class="n">sensorReading</span> <span class="o">=</span> <span class="n">analogRead</span><span class="o">(</span><span class="n">thisSensor</span><span class="o">);</span>

    <span class="c1">// if the sensor is pressed hard enough:</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">sensorReading</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// play the note corresponding to this sensor:</span>
      <span class="n">tone</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="n">notes</span><span class="o">[</span><span class="n">thisSensor</span><span class="o">],</span> <span class="mi">20</span><span class="o">);</span>
    <span class="o">}</span> 
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>The language has borrowed a lot of syntax from C, but there are some tricky issues (in the eyes of a programmer). For example:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">int</span> <span class="n">sensorValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="o">(</span><span class="n">A0</span><span class="o">);</span> 
<span class="n">String</span> <span class="n">stringThree</span> <span class="o">=</span> <span class="s">&quot;Sensor value: &quot;</span> <span class="o">+</span> <span class="n">sensorValue</span><span class="o">;</span>
<span class="n">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stringThree</span><span class="o">);</span></code></pre></figure>

<p>This little piece of code above gives unpredictable results because ‘stringThree’ never got an initial value before you started concatenating different data types. Instead you’ll have to do:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">int</span> <span class="n">sensorValue</span> <span class="o">=</span> <span class="n">analogRead</span><span class="o">(</span><span class="n">A0</span><span class="o">);</span> 
<span class="n">String</span> <span class="n">stringOne</span> <span class="o">=</span> <span class="s">&quot;Sensor value: &quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">stringThree</span> <span class="o">=</span> <span class="n">stringOne</span> <span class="o">+</span> <span class="n">sensorValue</span><span class="o">;</span>
<span class="n">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stringThree</span><span class="o">);</span></code></pre></figure>

<p>Weird…! But I really suggest trying out the Arduino, give it a chance and you’ll probably like it and learn a lot about electronics and microcontrollers.</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/06/getting-started-arduino-mega/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/05/we-are-now-cached/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="We are now cached" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-05-09T16:16:22+02:00" class="date">
            May 9, 2012 16:16:22
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/05/we-are-now-cached/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/05/we-are-now-cached/">We are now cached</a></h1>

        <span itemprop="articleBody">
          <p>Yesterday we (at <a href="http://www.jpoint.nl/">JPoint</a>) invited <a href="http://www.innoq.com/blog/st/">Stefan Tilkov</a> over for a discussion about REST and RESTful services. He knows a lot about the subject and could educate us and help with any questions.</p>

<p>One of the things he mentioned was: If you don’t use caching, you are an idiot.</p>

<h1 id="where-do-websites-cache">Where do websites cache?</h1>

<p>There are multiple tiers where caching of websites is done, and is useful.</p>

<h2 id="browser-cache">Browser cache</h2>

<p>The best cache you can have is the cache inside the browser. If a website knows it has the latest version, it can just read it from disk. There is absolutely no reason to go online.</p>

<h2 id="proxy-cache">Proxy cache</h2>

<p>The second type of cache would be the proxy cache. As you would have guessed this is a proxy and it does caching. It sits between the user/browser and the internet gateway. This cache sees all the requests and stores pages that can be cached. If another user requests a webpage that hasn’t changed it can provide the page instantly.</p>

<h2 id="reversed-proxy-cache">Reversed proxy cache</h2>

<p>You could also have a cache between the internet and the content providing server. If the server processes the request it might need to access databases and maybe other slow resources to build up the webpage. The resulting page can than be cached on the providing side in a “reverse” proxy cache. All subsequent requests can just be provided from the cache, as long as the page is still fresh.</p>

<h1 id="making-pages-cacheable">Making pages cacheable</h1>

<p>If you maintain a website, or you create web applications, you should be aware of caching. After Stefan’s rant, I’m completely convinced about that. If you don’t do anything all the requests will always go into the server and over the internet. There are HTML ways to control caching (META-Tags etc) but this just doesn’t work, and shouldn’t be used (!). So what could we do?</p>

<h2 id="expires-header">Expires header</h2>

<p>When sending a page back to the user you are able to set some HTTP headers. And “expires” is one of them.<br />
An example:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Expires: Fri, 11 May 2012 18:19:42 GMT</code></pre></figure>

<p>This indicates that the current page is valid until the timestamp. Then it ‘Expires’. Easy!</p>

<p>The only problem is generating the timestamp, it can be a bit tricky. Also you’ll have to be sure you’ve set the time correct on your system. Also, the next time you update the page, you have to also update the timestamp!</p>

<h2 id="cache-control-headers">Cache-Control headers</h2>

<p>With HTTP 1.1 there is a new class of headers called “Cache-Control”. These headers are more powerful than the Expires header.<br />
To enable caching using Cache Control headers you can set:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Cache-Control: max-age=3600, must-revalidate</code></pre></figure>

<p>The “max-age” is time in ms that the current page is valid. And by adding “must-revalidate” we tell the cache it should obey our max-age. If you don’t want an object to be cached you can use:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Cache-Control: no-cache</code></pre></figure>

<h1 id="refreshing-cached-data">Refreshing cached data</h1>

<p>The two methods described above will tell the cache <strong>if</strong> the content is cacheable. But what happens when the max-age or Expires timestamp expires? There are smarter ways to update the cache instead of getting the latest content from the server.</p>

<h2 id="last-modified">Last-Modified</h2>

<p>Websites should always set the response header called “Last-Modified”. This is a timestamp of the moment a webpage last changed.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Last-Modified: Fri, 11 May 2012 18:19:42 GMT</code></pre></figure>

<p>When a cache has expired (max-age or Expires) and has to get a new version from the server it can set the request header “If-Modified-Since” and include the timestamp.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">If-Modified-Since: Fri, 11 May 2012 18:19:42 GMT</code></pre></figure>

<p>If the content on the server hasn’t been changed it’ll reply “304 Not Modified”. The cache can now keep the cached version.</p>

<h2 id="etag">ETag</h2>

<p>With HTTP 1.1 there is also an improved method of doing the “Last-Modified”. Instead of using a timestamp (which is error prone), they’ve introduced the “ETag”. This is a tag that is completely customisable. Most of the time it will just be a hash of the content. The server sets the ETag as response header:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">ETag: &quot;686897696a7c876b7e&quot;</code></pre></figure>

<p>When a cache can no longer use the cached version (due to max-age or Expires) is will ask the server:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">If-None-Match: &quot;686897696a7c876b7e&quot;</code></pre></figure>

<p>The term “If-None-Match” isn’t very clear, but is means “if-etag-changed-since” and works the same way as “If-Modified-Since”. When the ETag is the same the server will reply “304 Not Modified”, it won’t send the content back.</p>

<p>When you are working on a web application you could just add an ETag which is the MD5 of the returning content. If the content is the same, you don’t have to send the content over the line. The only drawback to this method is that you still need to generate the entire reply to calculate the MD5 hash to see if the content has changed…! But sometimes you’ll know in advance if the content has been changed.</p>

<h1 id="improving-royvanrijncom">Improving royvanrijn.com</h1>

<p>I’m using WordPress and I’ve found the excellent plugin “WP Total Cache”.</p>

<p>It will involve a bit of tweaking, because only you can decide which stuff should be cached. But I think it worked out great, press F5 right now and you’ll probably be reading this from the browser cache.</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/05/we-are-now-cached/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/04/ludum-dare-23-itty-bitty-botty/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Ludum Dare #23: Itty-bitty botty" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-04-22T17:17:22+02:00" class="date">
            Apr 22, 2012 17:17:22
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/04/ludum-dare-23-itty-bitty-botty/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/04/ludum-dare-23-itty-bitty-botty/">Ludum Dare #23: Itty-bitty botty</a></h1>

        <span itemprop="articleBody">
          <p><img src="/images/bodyIdle1.png" alt="bodyIdle1" class="alignleft" />The last two days I’ve been competing in a competition called Ludum Dare.</p>

<p>This is a short, 48 hour, contest. In this time you have to build an entire game based on a theme given at the start of the 48 hours. It is a good exercise is planning, scaling, hacking, imagining and just having fun! I really enjoyed it, and recommend you join LD24 four months from now.</p>

<h1 id="the-concept">The concept:</h1>

<p>For this game I decided to stick with Java. To make it playable for as many people I decided to make an Applet. It can easily become a standalone app, or maybe an Android app…!<br />
I loved the old point-and-click games, from Dirty Larry to The Day of the Tentacle, from Monkey Island to Gobli(iiii)ns. So that was settled.</p>

<h1 id="the-big-pro">The big pro:</h1>

<p>Not a lot of physics or game code.</p>

<h1 id="the-big-con">The big con:</h1>

<p>I’d have to brush off my paint skills because point-and-click adventures are filled with graphics and animation!<br />
One big factor in games is music, and for this contest I took some midi control code I made some years ago. This was turned into a procedurally generated music generator. Every time you play you’ll hear something new.</p>

<h1 id="the-result">The result:</h1>

<p>With visitors coming to see our little baby girl on Sunday I decided to end early.</p>

<p>Screenshots:<br />
<img src="/images/screenshot1.png" alt="screenshot1" class="alignright" /><br />
<img src="/images/screenshot2.png" alt="screenshot2" class="alignright" /></p>

<p>Here is my result, have fun playing the game: <a href="http://www.royvanrijn.com/ld23/index.html">Itty-bitty botty</a>!</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/04/ludum-dare-23-itty-bitty-botty/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/03/female-coders-lighten-up/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Female coders, lighten up" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-03-22T15:51:53+01:00" class="date">
            Mar 22, 2012 15:51:53
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/female-coders-lighten-up/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/03/female-coders-lighten-up/">Female coders, lighten up</a></h1>

        <span itemprop="articleBody">
          <p><img src="/images/female-sign.jpg" alt="female-sign" class="alignright" /></p>

<h1 id="the-real-katie">The Real Katie</h1>

<p>Today I stumbled upon the following blogpost:<br />
<a href="http://therealkatie.net/blog/2012/mar/21/lighten-up/">The Real Katie - Lighten Up</a></p>

<p>Katie talks about the sexist jokes and remarks she regularly gets in the IT/programming world, and she is sick and tired of hearing “Come on, lighten up”.</p>

<p>The post is moving and shows how easy it is to offend people, not by a single remark, but by hundreds of similar remarks heard before.</p>

<h1 id="not-an-it-problem">Not an IT problem</h1>

<p>There is one point I don’t agree with though. I don’t think it is fair to call this an IT/programmers problem.</p>

<p>Let me explain:</p>

<p>Obviously there are a lot of jerks, assholes and plain rude people around. Most of them are men, some are women. They pick on easy targets, the minorities. Sometimes the minority is a heavy male co-worker, sometimes it is the rare female programmer.</p>

<p>I fully agree, we should call the bullies out more. We all should do something about this problem. Her blogpost has re-opened my eyes again to that problem. But this isn’t a IT problem… it is a minority and rude people problem, a global social problem. It happens in all professions. Katie is just unlucky to be the minority in the field of work she loves.</p>

<h1 id="more-women-in-the-it">More women in the IT</h1>

<p>Also, I do agree that we could use more women in the IT world. At a young age we should teach boys and girls that there is no such thing as boy-jobs and girl-jobs, and both should learn the joy of programming! If we do that the problem of women being a minority in the IT world will disappear.</p>

<p><strong>BUT</strong> that won’t solve the global social problem of assholes picking on minorities.<br />
That is something we are all responsible for.</p>

<p>There will always be minorities and there will always be rude people (male or female). This is something we can’t change. You <strong>can</strong> however call them out and disapprove the behavior.</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/female-coders-lighten-up/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/03/arthur-fry-day-or-fryday/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Arthur Fry Day (or: Fryday)" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-03-13T10:03:16+01:00" class="date">
            Mar 13, 2012 10:03:16
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/arthur-fry-day-or-fryday/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/03/arthur-fry-day-or-fryday/">Arthur Fry Day (or: Fryday)</a></h1>

        <span itemprop="articleBody">
          <h1 id="scrumboard">Scrumboard</h1>

<p><a href="http://www.royvanrijn.com/arthur-fry-day/"><img src="/images/arthurfry_photo.jpg" alt="Inventor of the Post-It note, and part time hero." /></a><br />
Source: wikipedia.org</p>

<p>Our project is doing <a href="http://en.wikipedia.org/wiki/Scrum_%28development%29">Scrum</a>, and one of the main aspects of Scrum is having everything clearly visible. A great example is the scrumboard, a huge whiteboard filled with Post-It notes.</p>

<p>Post-It notes are perfect for this; small enough to be easy to handle; sticky enough so you can post them almost everywhere. I truly believe that without the Post-It note, Scrum wouldn’t be possible and probably wouldn’t even exist!</p>

<h1 id="the-hero">The hero</h1>

<p>This all makes the real hero of the Agile movement: <a href="http://www.royvanrijn.com/arthur-fry-day/">Arthur Fry</a>. After somebody at 3M messed up a batch of glue, Arthur decided to add that glue to a piece of paper, creating the first Post-It notes.</p>

<h1 id="join-us">Join us</h1>

<p>This invention is much more important than the toilet, or wheel, or penicillin…! Celebrate and make the world aware of this unlikely hero, join us and celebrate <a href="http://www.royvanrijn.com/arthur-fry-day/">Arthur Fry Day</a>, this March 16th!</p>

<p><img src="/images/preparations.png" alt="We've already started our preparations, #arthurfryday" /><br />
<a href="http://www.royvanrijn.com/arthur-fry-day/"><img src="/images/arthurfryday-300x119.png" alt="#arthurfryday" /></a></p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/arthur-fry-day-or-fryday/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/03/devoxx-2011-talk-freely-available/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Devoxx 2011: Talk freely available" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-03-08T14:36:23+01:00" class="date">
            Mar 8, 2012 14:36:23
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/devoxx-2011-talk-freely-available/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/03/devoxx-2011-talk-freely-available/">Devoxx 2011: Talk freely available</a></h1>

        <span itemprop="articleBody">
          <p>Moments ago this tweet caught my eye:<br />
<code>Devoxx 2011: "What Shazam doesn't want you to know!" by @royvanrijn is now freely available @ http://parleys.com/d/2869</code></p>

<p>That means everybody can now watch my talk without any subscription! If you want to learn how algorithms like Shazam work, be sure to watch this talk. It might be easier to understand than my blog post a year ago.</p>

<p>Without further ado:  </p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/03/devoxx-2011-talk-freely-available/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2012/02/levenshtein-distance-challenge-causes/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Levenshtein Distance Challenge: Causes" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2012-02-07T23:54:54+01:00" class="date">
            Feb 7, 2012 23:54:54
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2012/02/levenshtein-distance-challenge-causes/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2012/02/levenshtein-distance-challenge-causes/">Levenshtein Distance Challenge: Causes</a></h1>

        <span itemprop="articleBody">
          <p>Today I’ve been playing around with the <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>. The Levenshtein distance is a number which measures the ‘distance’ between two strings. For example, the distance between “test” and “rest” is one.</p>

<h1 id="the-challenge">The challenge</h1>

<p>A Levenshtein distance of one is the key element in a challenge I’ve been reading about. I first encountered it on <a href="http://williamedwardscoder.tumblr.com/post/16756548314/causes-levenshtein-distance-challenge">williamedwardscoder</a>’s blog.</p>

<p>The problem description:  </p>

<p><em>Two words are friends if they have a <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a> of 1. That is, you can add, remove, or substitute exactly one letter in word X to create word Y. A word’s social network consists of all of its friends, plus all of their friends, and all of their friends’ friends, and so on. Write a program to tell us how big the social network for the word “causes” is, using this <a href="https://raw.github.com/causes/puzzles/master/word_friends/word.list">word list</a>. Have fun!</em>  </p>

<h1 id="java-solution-81-sec">Java solution (8.1 sec)</h1>

<p>After some Googling and tweaking I decided to make an implementation based on the <a href="http://en.wikipedia.org/wiki/Trie">Trie</a> structure. How this helps is excellently described by <a href="http://stevehanov.ca/blog/index.php?id=114">Steve Hanov</a>. I’ve also had a peek in another Java based Trie implementation by <a href="https://github.com/ximus/Causes-Challenge">Ximus</a>.</p>

<p>I’ve been able to get the code below run in 8.1 seconds, which is pretty good. But I’ve read that there are Java implementations running in just 4 seconds…!? Maybe based on Levenshtein Automata?</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FriendlyCauses</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="n">FriendlyCauses</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">FriendlyCauses</span><span class="o">();</span>
		<span class="n">s</span><span class="o">.</span><span class="na">find</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="n">TrieNode</span><span class="o">[]</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">find</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="kt">long</span> <span class="n">timeBefore</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
		<span class="n">File</span> <span class="n">wordList</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="s">&quot;word.list&quot;</span><span class="o">);</span>
		<span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileReader</span><span class="o">(</span><span class="n">wordList</span><span class="o">));</span>

		<span class="kt">int</span> <span class="n">wordsAdded</span> <span class="o">=</span> <span class="n">buildTrie</span><span class="o">(</span><span class="n">reader</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Done building the Trie; &quot;</span> <span class="o">+</span> <span class="n">wordsAdded</span> <span class="o">+</span> <span class="s">&quot; words added.&quot;</span><span class="o">);</span>
		<span class="n">findFriends</span><span class="o">(</span><span class="s">&quot;causes&quot;</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Amount of friends found: &quot;</span> <span class="o">+</span> <span class="n">countWords</span><span class="o">(</span><span class="n">root</span><span class="o">));</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Total time: &quot;</span> <span class="o">+</span> <span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">-</span> <span class="n">timeBefore</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;ms&quot;</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * This method builds the complete trie with all the words.</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">buildTrie</span><span class="o">(</span><span class="n">BufferedReader</span> <span class="n">reader</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">wordsAdded</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="na">ready</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">next</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
			<span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">next</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="mi">97</span><span class="o">;</span>
			<span class="n">TrieNode</span> <span class="n">current</span> <span class="o">=</span> <span class="n">root</span><span class="o">[</span><span class="n">start</span><span class="o">];</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">current</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">root</span><span class="o">[</span><span class="n">start</span><span class="o">]</span> <span class="o">=</span> <span class="n">current</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TrieNode</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">next</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="kt">int</span> <span class="n">nextIndex</span> <span class="o">=</span> <span class="n">next</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="mi">97</span><span class="o">;</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">children</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">current</span><span class="o">.</span><span class="na">children</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="o">[</span><span class="mi">26</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">]</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">TrieNode</span> <span class="n">deeper</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">TrieNode</span><span class="o">();</span>
					<span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">]</span> <span class="o">=</span> <span class="n">deeper</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="n">current</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">nextIndex</span><span class="o">];</span>
			<span class="o">}</span>
			<span class="n">current</span><span class="o">.</span><span class="na">word</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
			<span class="n">wordsAdded</span><span class="o">++;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">wordsAdded</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kd">class</span> <span class="nc">TrieNode</span> <span class="o">{</span>
		<span class="c1">// The children:</span>
		<span class="n">TrieNode</span><span class="o">[]</span> <span class="n">children</span><span class="o">;</span>
		<span class="c1">// If this node is the end of a word, store the word here:</span>
		<span class="n">String</span> <span class="n">word</span><span class="o">;</span>
		<span class="c1">// This boolean indicates that the current node is a friend.</span>
		<span class="kt">boolean</span> <span class="n">isFriend</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">// Temporary buffer of friends to investigate further:</span>
	<span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">friendsToFind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">findFriends</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">friendsToFind</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>

		<span class="k">while</span> <span class="o">(</span><span class="n">friendsToFind</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">friend</span> <span class="o">=</span> <span class="n">friendsToFind</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

			<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">friend</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>

			<span class="kt">byte</span><span class="o">[]</span> <span class="n">currentRow</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">currentRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="n">i</span><span class="o">;</span>
			<span class="o">}</span>

			<span class="c1">// Search the Trie for the given friend:</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">searchTrieForWord</span><span class="o">(</span><span class="n">root</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">97</span><span class="o">,</span> <span class="n">friend</span><span class="o">,</span> <span class="n">currentRow</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * Walk the complete Trie again finding all the friends</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="nf">countWords</span><span class="o">(</span><span class="n">TrieNode</span><span class="o">[]</span> <span class="n">ts</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">amount</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">TrieNode</span> <span class="n">t</span> <span class="o">=</span> <span class="n">ts</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">isFriend</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">amount</span><span class="o">++;</span>
					<span class="c1">// Print/add t.word</span>
				<span class="o">}</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">children</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">amount</span> <span class="o">+=</span> <span class="n">countWords</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">children</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">amount</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="cm">/**</span>
<span class="cm">	 * Recursively walk the Trie calculating the Levenshtein distance to the</span>
<span class="cm">	 * given word. When a friend is found, mark it and add it to a list. The new</span>
<span class="cm">	 * friend needs to be processed further on.</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">searchTrieForWord</span><span class="o">(</span><span class="n">TrieNode</span> <span class="n">node</span><span class="o">,</span> <span class="kt">int</span> <span class="n">letter</span><span class="o">,</span> <span class="n">String</span> <span class="n">word</span><span class="o">,</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">previousRow</span><span class="o">)</span> <span class="o">{</span>

		<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">previousRow</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
		<span class="kt">byte</span><span class="o">[]</span> <span class="n">currentRow</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
		<span class="n">currentRow</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="o">(</span><span class="n">previousRow</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>

		<span class="kt">int</span> <span class="n">minElement</span> <span class="o">=</span> <span class="n">currentRow</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>

		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="kt">int</span> <span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">currentRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
			<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
					<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>

			<span class="k">if</span> <span class="o">(</span><span class="n">word</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="n">letter</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
						<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
			<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
				<span class="n">newCurrentRowValue</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">newCurrentRowValue</span><span class="o">,</span>
						<span class="n">previousRow</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">newCurrentRowValue</span> <span class="o">&lt;</span> <span class="n">minElement</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">minElement</span> <span class="o">=</span> <span class="n">newCurrentRowValue</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">currentRow</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="n">newCurrentRowValue</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="c1">// If the Levenshtein distance is 1 and the node at current depth is a</span>
		<span class="c1">// word (and not yet friend):</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">currentRow</span><span class="o">[</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">word</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">node</span><span class="o">.</span><span class="na">isFriend</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">node</span><span class="o">.</span><span class="na">isFriend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
			<span class="n">friendsToFind</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">word</span><span class="o">);</span>
		<span class="o">}</span>

		<span class="k">if</span> <span class="o">(</span><span class="n">minElement</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">TrieNode</span> <span class="n">child</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">children</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">child</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">searchTrieForWord</span><span class="o">(</span><span class="n">child</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">97</span><span class="o">,</span> <span class="n">word</span><span class="o">,</span> <span class="n">currentRow</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre></figure>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2012/02/levenshtein-distance-challenge-causes/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2011/12/orchard-planting-greatest-common-divisor/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Orchard Planting: Greatest Common Divisor" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2011-12-30T13:21:59+01:00" class="date">
            Dec 30, 2011 13:21:59
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/orchard-planting-greatest-common-divisor/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2011/12/orchard-planting-greatest-common-divisor/">Orchard Planting: Greatest Common Divisor</a></h1>

        <span itemprop="articleBody">
          <p>The <a href="http://infinitesearchspace.dyndns.org/orchardplanting">Orchard Planting</a> contest from infinite search space is over. So it is time for a quick write-up.</p>

<p>The rules are simple, on a grid of integers, place N points on the grid to get as much 4 points on a line and never more then 4 points on a line.</p>

<p>My big break-through was when I figured out a way to improve the calculation speed of a solution, and make it possible to extend existing solutions (going back and forwards). To do this I used a unique vector (greatest common divisor vector) which is the same for all point on the same line:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//Calculate unique vector(hash):</span>
<span class="n">doubleIntVector</span><span class="o">(</span><span class="kt">int</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y2</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">stepx</span> <span class="o">=</span> <span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">stepy</span> <span class="o">=</span> <span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">gcd</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">abs</span><span class="o">(</span><span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="o">),</span> <span class="n">abs</span><span class="o">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="o">));</span>
    <span class="k">if</span><span class="o">(</span><span class="n">gcd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">stepx</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
        <span class="n">stepy</span> <span class="o">/=</span> <span class="n">gcd</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">if</span><span class="o">(</span><span class="n">stepx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="mi">10000</span> <span class="o">*</span> <span class="o">-</span><span class="n">stepx</span><span class="o">)</span> <span class="o">+</span> <span class="o">-</span><span class="n">stepy</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">stepx</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">stepy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">){</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">stepy</span><span class="o">;</span> <span class="c1">//this looks curious... but fixed a bug</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="mi">10000</span> <span class="o">*</span> <span class="n">stepx</span><span class="o">)</span> <span class="o">+</span> <span class="n">stepy</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Now we can evaluate the points:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">for</span> <span class="n">point</span> <span class="n">A</span> <span class="n">in</span> <span class="n">points</span> <span class="mi">0</span><span class="o">....</span><span class="na">N</span> <span class="o">{</span>
    <span class="n">create</span> <span class="n">list</span> <span class="n">vectorsA</span> 
    <span class="k">for</span> <span class="n">point</span> <span class="n">B</span> <span class="n">in</span> <span class="n">points</span> <span class="n">A</span><span class="o">+</span><span class="mi">1</span><span class="o">....</span><span class="na">N</span> <span class="o">{</span>
         <span class="n">vectorA</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="n">doubleIntVector</span><span class="o">(</span><span class="n">A</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">A</span><span class="o">.</span><span class="na">y</span><span class="o">,</span> <span class="n">B</span><span class="o">.</span><span class="na">x</span><span class="o">,</span> <span class="n">B</span><span class="o">.</span><span class="na">y</span><span class="o">)</span> <span class="o">)</span>
    <span class="o">}</span>
    <span class="n">sort</span><span class="o">(</span><span class="n">vectorsA</span><span class="o">)</span>
    <span class="c1">//if vectorsA has three similair vectors you have 4 points on a line! </span>
    <span class="c1">//(3&gt; = invalid and 2 = candidate for extending!)</span>
<span class="o">}</span></code></pre></figure>

<p>If a point has three vectors that are the same, we have a line with four points! This can be checked easily if you sort the vectors and go through them once.</p>

<p>Also adding and removing points becomes very easy. A lot of the GCD calculations can be cached. To remove a point, just remove the vectors it made. And to add a point, calculate all the new vectors. So in the end it basically all boils down to a lot of GCD calculations and sorting.</p>

<p>Was this the fastest way to calculate solutions in this contest? I don’t know, but I was really pleased when I figured it out. With a better algorithm for picking possible numbers (instead of hill-climbing) and some more processor power I bet I could have ended a bit higher up the hill.</p>

<p>Also: Keep an eye out for the next contest, it is going to be an interesting one! January the 13th.</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/orchard-planting-greatest-common-divisor/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2011/12/parleys-devoxx-talk-published/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Parleys: Devoxx talk published" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2011-12-20T20:50:50+01:00" class="date">
            Dec 20, 2011 20:50:50
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/parleys-devoxx-talk-published/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2011/12/parleys-devoxx-talk-published/">Parleys: Devoxx talk published</a></h1>

        <span itemprop="articleBody">
          <p>The guys at Devoxx/Parleys have already processed all the talks and post-processed them. So my talk it now available at Parleys.com.<br />
There is one drawback though, the talk is currently for subscribers only. If you don’t have one you can only watch the first two (very nervous) minutes.</p>

<p>If you’ve attended Devoxx you will get a free subscription in the email.</p>

<p>(p.s. The intro movie for all the Devoxx ‘11 talks is made by me as well!)</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/parleys-devoxx-talk-published/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Neil DeGrasse Tyson and Stephen Colbert" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2011-12-14T13:02:03+01:00" class="date">
            Dec 14, 2011 13:02:03
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/">Neil DeGrasse Tyson and Stephen Colbert</a></h1>

        <span itemprop="articleBody">
          <p>Most internet videos are a waste of time, but this one isn’t! This is an interview of Stephen Colbert (out of his normal character) with Neil DeGrasse Tyson (Hayden Planetarium director, TV science host).</p>

<iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" src="http://www.youtube.com/embed/YXh9RQCvxmg"></iframe>

        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/neil-degrasse-tyson-and-stephen-colbert/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2011/12/the-project-manager-and-his-pregnant-wife/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="The project manager and his pregnant wife" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2011-12-09T00:21:15+01:00" class="date">
            Dec 9, 2011 00:21:15
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/the-project-manager-and-his-pregnant-wife/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2011/12/the-project-manager-and-his-pregnant-wife/">The project manager and his pregnant wife</a></h1>

        <span itemprop="articleBody">
          <h1 id="adding-resources">Adding resources</h1>

<p>Today I’ve (again) seen this quote on Twitter:</p>

<p><strong><em>“A project manager is someone who thinks that 9 pregnant women can create a baby in 1 month”</em></strong></p>

<p>This obviously isn’t the case. The story demonstrates that adding more people to a team won’t (necessarily) make the team more effective. Because some processes can’t be cut into smaller pieces and taken up by more people. It will even cause a bit of overhead, more opinions and thus, more time.</p>

<p><img src="/images/baby.jpg" alt="Our feature baby (for real)" /></p>

<h1 id="what-about-one-woman">What about one woman?</h1>

<p>Everybody knows 9 women can’t create a baby in 1 month… so it isn’t fair to make that comparison. How about one pregnant woman and the project manager?</p>

<p>Four weeks into the ‘project’ the project manager has his monthly meeting with his pregnant wife:</p>

<p><strong>Month #1</strong><br />
Project manager: <em>“How is everything going?”</em><br />
Wife: <em>“Oh, just fine, no problems at all”</em><br />
Project manager: <em>“Is there anything I can help you with?”</em><br />
Wife: <em>“No, currently not, everything is going like it is supposed to”</em><br />
Project manager: <em>“When do you think this baby-project is going to be completed?”</em><br />
Wife: <em>“Well, it takes 9 months, so 8 months from now!”</em></p>

<p><strong>Month #2</strong><br />
Project manager: <em>“Hey, is everything still going fine?”</em><br />
Wife: <em>“Yes, still feeling fine.”</em><br />
Project manager: <em>“Is there anything I can help you with?”</em><br />
Wife: <em>“No, nothing that I can think of right now.”</em></p>

<p><strong>Month #3</strong><br />
Project manager: <em>“Hey, still working on that baby?”</em><br />
Wife: <em>“Yes, I’m starting to have a bit of morning sickness now…”</em><br />
Project manager: <em>“Oh, can I help you with that?”</em><br />
Wife: <em>“Not really, it is just something I have to live with”</em><br />
Project manager: <em>“How does this affect the release date?”</em><br />
Wife: <em>“It doesn’t, I think… but I really wish we could release a bit sooner!”</em></p>

<p><strong>Month #4</strong><br />
Project manager: <em>“Hey, still having that morning sickness issue?”</em><br />
Wife: <em>“A little bit, but it is almost gone now”</em><br />
Project manager: <em>“Still on track for the release date?”</em><br />
Wife: <em>“Yes, 5 months from now!”</em></p>

<p><strong>Month #5</strong><br />
Project manager: <em>“How is it going? Morning sickness issue resolved?”</em><br />
Wife: <em>“Yes, but I need icecream and pickles.”</em><br />
Project manager: <em>“I’m on it. Any updates about the release date?”</em><br />
Wife: <em>“ICECREAM!”</em></p>

<p><strong>Month #6</strong><br />
Project manager: <em>“Anything I can do for you right now?”</em><br />
Wife: <em>“Yes, I think you can start building that baby room”</em><br />
Project manager: <em>“When do you need it, when is the baby ready?”</em><br />
Wife: <em>“Three months from now.”</em></p>

<p><strong>Month #7</strong><br />
Project manager: <em>“The baby room is almost ready, how is that baby going?”</em><br />
Wife: <em>“Just fine, just very tired. Two more months.”</em></p>

<p><strong>Month #8</strong><br />
Project manager: <em>“I’ve got some more pickles for you!”</em><br />
Wife: <em>“You know I hate pickles :-( I’m tired…”</em><br />
Project manager: <em>“Sorry, how is the release coming along?”</em><br />
Wife: <em>“One more month.”</em></p>

<p><strong>Month #9</strong><br />
Project manager: <em>“Is the baby there yet?”</em><br />
Wife: <em>“No, not yet, I’m tired but fine”</em><br />
Project manager: <em>“But…? What about the release?”</em><br />
Wife: <em>“Go away.”</em></p>

<p><strong>Month #9 (plus one week)</strong><br />
Project manager: <em>“What is the delay? Where is my baby?”</em><br />
Wife: <em>“It isn’t here yet.”</em><br />
Project manager: <em>“How come? How did this happen!? I kept asking about the release date and you kept saying it would be done a week ago!?”</em><br />
Wife: <em>“Get out.”</em></p>

<p><strong>Month #9 (plus two weeks)</strong><br />
Wife: <em>“I’m ready! I’ve got this lovely baby for you.”</em><br />
Project manager: <em>“Great, where did it go wrong with that planning?”</em><br />
Project manager: <em>“That babyroom has been ready for weeks now, and no baby!”</em><br />
Project manager: <em>“How can we keep this from happening next time? Scrum? Lean? Agile? RUP?”</em><br />
Wife: <em>“Screw you.”</em></p>

<p>This story also has an important message in it, I’ll just leave that as an exercise for the reader.</p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/the-project-manager-and-his-pregnant-wife/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  
    <article itemscope itemtype="http://schema.org/Article">
    <div class="post">

      <div class="post-thumbnail">
      	<a href="/blog/2011/12/bytebeat-algorithmic-symphonies/">
      	
      		<img itemprop="image" class="post-thumbnail-img" src="/thumbnails/default.jpg" alt="Bytebeat: Algorithmic Symphonies" width="100" height="100" />
      	
    	</a>
      </div>
  
      <div class="post-data">
        <p class="post-meta">
          Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Roy van Rijn</span></span> 
          (<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><span itemprop="name">royvanrijn.com</span></span>) on 
          <span itemprop="datePublished" content="2011-12-07T16:42:08+01:00" class="date">
            Dec 7, 2011 16:42:08
          </span>
          : <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/bytebeat-algorithmic-symphonies/#disqus_thread">0 comments</a>
        </p>
        <h1 itemprop="headline" class="post-title"><a class="title-link" href="/blog/2011/12/bytebeat-algorithmic-symphonies/">Bytebeat: Algorithmic Symphonies</a></h1>

        <span itemprop="articleBody">
          <p>A couple of days ago I first encountered <em>“bytebeat”</em>. This is a new hype revolving algorithmic music and sounds. The basic idea is this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">main</span><span class="o">(</span><span class="n">t</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">for</span><span class="o">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="o">;;</span><span class="n">t</span><span class="o">++)</span>
    <span class="n">putchar</span><span class="o">(</span> <span class="n">t</span> <span class="o">*</span> <span class="o">(((</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">12</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">8</span><span class="o">)</span> <span class="o">)</span> <span class="o">&amp;</span> <span class="o">(</span> <span class="mi">63</span> <span class="o">&amp;</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">4</span><span class="o">))));</span>
<span class="o">}</span></code></pre></figure>

<p>This simple loop has one variable, t (time). And every iteration we use t to calculate some output. Next, we take the output and pipe it into 8-bit 8-kHz PCM channel (for example /dev/audio!).</p>

<p>A couple of examples in a YouTube video:<br />
&lt;iframe type="text/html" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="http://www.youtube.com/embed/tCRPUv8V22o"&gt;&lt;/iframe&gt;</p>

<p>In Java you could do the following:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">javax.sound.sampled.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AudioPump</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

		<span class="n">AudioFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AudioFormat</span><span class="o">(</span><span class="mi">8000</span><span class="n">f</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
		<span class="n">DataLine</span><span class="o">.</span><span class="na">Info</span> <span class="n">info</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataLine</span><span class="o">.</span><span class="na">Info</span><span class="o">(</span><span class="n">SourceDataLine</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">format</span><span class="o">);</span>
		<span class="n">SourceDataLine</span> <span class="n">soundLine</span> <span class="o">=</span> <span class="o">(</span><span class="n">SourceDataLine</span><span class="o">)</span><span class="n">AudioSystem</span><span class="o">.</span><span class="na">getLine</span><span class="o">(</span><span class="n">info</span><span class="o">);</span>
		<span class="n">soundLine</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">format</span><span class="o">,</span> <span class="mi">32000</span><span class="o">);</span>
		<span class="n">soundLine</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

		<span class="kt">byte</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">8</span><span class="o">];</span>
		<span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">buffer</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">n</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">buffer</span><span class="o">[</span><span class="n">n</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span><span class="n">f</span><span class="o">(</span><span class="n">t</span><span class="o">++);</span>
			<span class="o">}</span>
			<span class="n">soundLine</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">buffer</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">f</span><span class="o">(</span><span class="kt">int</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="o">(</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">7</span><span class="o">|</span><span class="n">t</span><span class="o">|</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="o">)*</span><span class="mi">10</span><span class="o">+</span><span class="mi">4</span><span class="o">*(</span><span class="n">t</span><span class="o">&amp;</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">13</span><span class="o">|</span><span class="n">t</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="c1">//return (t*(t&gt;&gt;5|t&gt;&gt;8))&gt;&gt;(t&gt;&gt;16);</span>
	<span class="c1">//return t*(((t&gt;&gt;12)|(t&gt;&gt;8))&amp;(63&amp;(t&gt;&gt;4)));</span>
<span class="o">}</span></code></pre></figure>

<p>These simple one-liners are able to produce amazing sounds and music!</p>

<p>It becomes even easier to play around with bytebeat if you use one of the many Javascript implementations.<br />
Here is one (including the best song I’ve created): <a href="http://t.co/9oognysS">http://t.co/9oognysS</a></p>

<p>The computer/synthetic sounds are also good for <a href="http://wurstcaptures.untergrund.net/music/?oneliner=t%7C%28%28t%2F80%29%7C%28t%2F40%29%29%26%28t%2F5%29%7C%28t%2F160%29%7C%28t%2F240%29%2F8%3C%3C%28sin%28t%2F3.43%29*2%29&amp;rate=11025">dubstep</a>.</p>

<p>For more information on this subject:<br />
- <a href="http://canonical.org/~kragen/bytebeat/">http://canonical.org/~kragen/bytebeat/</a><br />
- <a href="http://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html">http://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html</a></p>


        </span>


        <p class="post-meta">
          <a class="post-comments" href="http://royvanrijn.com/blog/2011/12/bytebeat-algorithmic-symphonies/#disqus_thread">0 comments</a>
        </p>
      </div>
    </div>
    </article>
  
    <hr/>
  

  <!-- Pagination -->
  
  <div class="pagination">
    <div class="pagination-center">
    
      <div class="pagination-item"><a href="/page/5">&laquo; Prev</a></div>
    

    
      
        <div class="pagination-item"><a href="/index.html">1</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/2">2</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/3">3</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/4">4</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/5">5</a></div>
      
    
      
        <div class="pagination-item"><strong>6</strong></div>
      
    
      
        <div class="pagination-item"><a href="/page/7">7</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/8">8</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/9">9</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/10">10</a></div>
      
    
      
        <div class="pagination-item"><a href="/page/11">11</a></div>
      
    

    
      <div class="pagination-item"><a href="/page/7">Next &raquo;</a></div>
    
    </div>
  </div>
  

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-wrapper">
      
      <div class="footer-wrapper-content">
      
        <a href="https://www.linkedin.com/profile/view?id=10356027">
          <span class="svg-icon linkedin">Connect on LinkedIn</span>
        </a>
      
        <a href="http://stackoverflow.com/users/442274/roy-van-rijn">
          <span class="svg-icon stackoverflow">Follow me on StackOverflow</span>
        </a>

        <a href="https://github.com/royvanrijn">
          <span class="svg-icon github">Follow me on GitHub</span>
        </a>

        <a href="https://twitter.com/royvanrijn">
          <ispan class="svg-icon twitter">Follow me on Twitter</span>
        </a>
          
        <a href="/feed/index.xml">
          <span class="svg-icon rss">Check out the RSS feed</span>
        </a>
	  </div>
    
    </div>

  </div>

</footer>


  </body>

</html>
